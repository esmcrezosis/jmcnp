<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/template">
<head>
<meta charset="UTF-8" />
<title>INTERFACE DE REAPPROVISIONNEMENT DES DISTRIBUTEURS</title>
<style>
#bouton_qr_launcher {
	z-index: 98;
}

#confirmation_box {
	width: 600px;
}

#bloc_step_1 {
	display: block;
	text-align: center;
	width: 100%;
}

#button_qr_code {
	background: #FF0000;
	display: none;
}

#code_membre_qr_auth {
	width: 500px;
	margin: 10px;
	padding: 10px;
	margin: auto;
	align: center;
}

#bloc_step_2 {
	text-align: center;
	width: 800px;
}
</style>


<script src="./resources/app/qrcode-decoder/qcode-decoder.min.js"></script>
<script src="./resources/app/outil-qr.js"></script>
<script>
		function showreap(shown, hidden1, hidden2, hidden3, hidden4) {
			document.getElementById(shown).style.display = 'block';
			document.getElementById(hidden1).style.display = 'none';
			document.getElementById(hidden2).style.display = 'none';
			document.getElementById(hidden3).style.display = 'none';
			document.getElementById(hidden4).style.display = 'none';
			return false;
		}
	</script>
</head>


<body>
	<ul layout:fragment="navbar">
		<li class=""><a href="index.html" th:href="@{/home}"> <i
				class="menu-icon fa fa-tachometer"></i> <span class="menu-text">
					ACCUEIL </span>
		</a> <b class="arrow"></b></li>
		<li class="" sec:authorize="hasAuthority('cnp_tegcp')"><a
			href="#" class="dropdown-toggle"> <i
				class="menu-icon fa fa-desktop"></i> <span class="menu-text">
					Consommations </span> <b class="arrow fa fa-angle-down"></b>
		</a> <b class="arrow"></b>


			<ul class="submenu">
				<!--<li class=""><a href="mcnp/distributeur/boutique_interim.html"
					th:href="@{/interimfacture}"> <i
						class="menu-icon fa fa-caret-right"></i> <span class="menu-text">
							Bps sans stocks </span>

				</a></li>-->
				<li class=""><a href="mcnp/distributeur/boutique.html"
					th:href="@{/boutique}"> <i class="menu-icon fa fa-caret-right"></i>
						<span class="menu-text"> BPS </span>

				</a></li>

				<li class=""><a href="mcnp/distributeur/boutique_reappro.html"
					th:href="@{/boutiquereappro}"> <i
						class="menu-icon fa fa-caret-right"></i> <span class="menu-text">
							Reapprovisionnement </span>

				</a></li>
				<!--<li class=""><a href="mcnp/distributeur/intermediaire.html"
					th:href="@{/reglementintermediaire}" th:if="${nomtegc =='TE ACHETEUR-REVENDEUR'}"> <i
						class="menu-icon fa fa-caret-right"></i> <span class="menu-text">
							Bps des Revendeurs </span>

				</a></li>-->

			</ul></li>

	</ul>
	<div class="page-content">
		<div class="container" layout:fragment="content">


			<div class="row">
				<div class="col-sm-4">
					<input type="text" style="border-color: #8C316A;"
						class="form-group input-xxlarge" id="text-nom-tegc"
						disabled="disabled" th:value="*{raisontegc}" />
				</div>

				<div class="col-sm-4">
					<input type="text" style="border-color: #8C316A; display: none"
						class="form-group input-xxlarge" id="text-code-membre-fournisseur"
						th:value="*{codeMembreVendeur}" />
				</div>
				<div id="notif_reappro"></div>
			</div>


			<div class="widget-box widget-color-blue">
				<div class="widget-header widget-header-small">
					<h4 class="widget-title">REAPPROVISIONNEMENT DES DISTRIBUTEURS</h4>
				</div>
				<div class="widget-body">
					<div class="widget-main">


						<div id="Page1">
							<form id="form-vente-reappro" method="post"
								action="executionreappro/simple"
								th:action="@{/executionreappro/simple}"
								onkeypress="return event.keyCode != 13;">

								<div class="row">
									<div class="col-sm-4">

										<div class="form-group">
											<div id="div_codeMembre"
												class="form-inline form-group has-info"
												style="margin-bottom: 5px">
												<label for="form-reappro-code-membre" class="">Code
													Membre </label> <input class="form-control"
													id="form-reappro-code-membre" style="width: 300px;"
													required="required" />

											</div>

											<div class="form-inline form-group has-info"
												style="margin-bottom: 5px; display: none"
												id="form_reappro_nom_telephone">
												<div class="form-inline form-group has-info"
													style="margin-bottom: 5px">
													<label class="">NOM/RAISON SOCIALE: </label> <input
														type="text" style="width: 300px;" class="form-group"
														id="form-reappro-nom-membre" />
												</div>
												<div class="form-inline form-group has-info"
													style="margin-bottom: 5px">
													<label>NUMERO TELEPHONE: </label> <input type="text"
														style="width: 300px;" class="form-group"
														id="form-reappro-select-telephone" />

												</div>
											</div>
										</div>

										<div class="form-inline form-group has-info"
											style="margin-bottom: 5px">
											<label class="">CODEBARRE: </label> <input type="text"
												style="width: 300px;" class="form-group"
												id="form-vente-reference" />
										</div>

										<!--<div class="form-inline form-group has-info"
									style="margin-bottom: 5px">
									<label class="">REFERENCE: </label> <input type="text"
										style="width: 300px;" class="form-group" id="text-reference" />
								</div>-->

										<div class="form-inline form-group has-info"
											style="margin-bottom: 5px">
											<label>DESIGNATION: </label> <input type="text"
												style="width: 300px;" class="form-group"
												id="form-vente-select-designation" />

										</div>

										<div class="form-inline form-group has-info"
											style="margin-bottom: 5px">
											<label class="">REFERENCE: </label> <input type="text"
												style="width: 300px;" class="form-group"
												id="form-vente-reference" />
										</div>

										<div class="form-inline" style="margin-bottom: 10px">
											<label>QUANTITE: </label> <input type="number"
												style="width: 300px;" class="form-group" id="text-quantite"
												value="1" />
										</div>

										<div class="form-inline" style="margin-bottom: 10px">
											<label style="display: block">PRIX: </label> <input
												type="number" style="width: 300px;" class="form-group"
												id="text-prix" value="0" />
										</div>
										<div class="form-inline" style="margin-bottom: 10px">
											<button class="btn btn-danger" id="form-vente-button-ajout"
												style="margin-left: 118px;">
												<i class="ace-icon fa fa-pencil-square-o"></i> AJOUTER
											</button>
										</div>
										<div id="esmc_notification"></div>
									</div>
									<div class="col-sm-8">
										<label class="smaller header lighter blue"
											style="margin-bottom: 2px; font-weight: bold"><i
											class="ace-icon fa fa-pencil-square-o"></i>BON DE LIVRAISON </label>
										<div class="table-form"
											style="height: 420px; border: 1px solid #307ecc">

											<div style="height: 376px; overflow-y: scroll"
												id="commande-loading-push">
												<table
													class="table table-striped table-bordered table-hover "
													style="position: relative">

													<thead>
														<tr>
															<th style="display: none">Codebarre</th>
															<th style="width: 240px; text-align: center">Reference</th>
															<th style="width: 300px; text-align: center">Designation</th>
															<th style="width: 300px; text-align: center">Quantité</th>
															<th style="width: 260px; text-align: center">Prix
																Unitaire</th>
															<th style="width: 300px; text-align: center">Montant
																Total</th>
															<th style="text-align: center">Action</th>
															<th style="display: none">CodeTegc</th>
														</tr>
													</thead>
													<tbody id="table-article-list-retreave-container">
													</tbody>
												</table>
											</div>

										</div>
										<div class="row form-inline" style="color: #000">
											<div class="inline" style="width: 365px">
												<label
													style="font-size: 14px; font-weight: bold; text-decoration: underline; margin-left: 13px; margin-top: 11px; margin-bottom: 21px;">Montant
													Total:</label> <input type="number" class="form-group"
													id="total-montant-prixht" value="0" style="width: 216px" />
											</div>

										</div>
									</div>
								</div>
							</form>


							<script type="text/javascript">

// Id du formulaire
 outilqr_champcm_sansbouton("form-vente-reappro", "form-reappro-code-membre");

        
</script>

							<script type="text/javascript">
    //Définir  le code_membre :
    //var codeMembreAcheteur = document.getElementById('form-reappro-code-membre').value;
    var codeMembreVendeur = document.getElementById('text-code-membre-fournisseur').value;
 //outilqrbio("form-vente", "qrcaptcha", "form-vente-valider", "Confirmez-vous votre achat?", codeMembreVendeur);
    outilqrbio("form-vente-reappro", "qrcaptcha", "form-reappro-terminerOperation", "Confirmez-vous votre achat?",codeMembreVendeur);

 //	document.getElementById('code_membre_qr_auth').value = codeMembreAcheteur; 
     //Désactiver le champ pour que l'utilisateur ne le modifie pas :
    document.getElementById('code_membre_qr_auth').disabled =true;
              
  </script>

<button type="button" class="next" id="bt_svt1"
        style="background-color: green; color: white; width: 150px; height: 30px;"
		onclick="return showreap('Page2','Page1','Page3','Page4','Page5');">
		Page suivante &raquo;</button>
</div>

						<div id="Page2" style="display: none">
							<div class="widget-box">
								<div class="widget-header">
									<h4>CHOIX DU PRODUIT ET DU TE</h4>
								</div>
								<div class="widget-body">
									<div class="widget-main">
										<div class="form-inline" style="margin-bottom: 5px">

											<label class="smaller header lighter blue"
												style="margin-bottom: 5px"><i
												class="ace-icon fa fa-pencil-square-o"></i>Veuillez
												sélectionner le type de credit </label>
										</div>
										<div class="form-inline" style="margin-bottom: 5px">
											<div class="radio">
												<label id="label-codetypecredit"> Type de produit: </label>
												<select class="form-inline"
													id="form-field-select-codetypecredit-reappro"
													th:field="*{codeCreditReappro}">

													<option th:each="codeCredit: ${codeCreditReappro}"
														th:value="${codeCredit.codeTypeCredit}"
														th:text="${codeCredit.libTypeCredit}"></option>
												</select>
											</div>
										</div>

										<div class="form-inline" style="margin-bottom: 5px">
											<label class="smaller header lighter blue"
												style="margin-bottom: 15px" id="label"><i
												class="ace-icon fa fa-pencil-square-o"></i>Choisir le TE: </label>

										</div>
										<div class="form-inline" style="margin-bottom: 5px">
											<!-- <div class="radio" style="margin-left: 20px">
														   <label id="label-form-reappro-oui" >
															<input type="radio" name="form-field-radiob"
															id="form-reappro-oui"  /> OUI
														   </label>
													   </div> -->

											<label id="label-te" style="margin-left: 20px;"> TE:
											</label> <select class="form-inline" id="form-field-select-te">
											</select>


										</div>

										<button type="button" class="previous" id="bt_prcdt2"
											style="background-color: grey; color: white; width: 150px; height: 30px;"
											onclick="return showreap('Page1','Page2','Page3','Page4','Page5');">
											&laquo; Page précédente</button>

										<button type="button" class="next" id="bt_svt2"
											style="background-color: green; color: white; width: 150px; height: 30px;"
											onclick="return showreap('Page3','Page1','Page2','Page4','Page5');">
											Page suivante &raquo;</button>
									</div>

								</div>
							</div>
						</div>

						<div id="Page3" style="display: none">
							<div class="widget-box">
								<div class="widget-header">
									<h4>MODE DE LIVRAISON</h4>
								</div>
								<div class="widget-body">
									<div class="widget-main">
										<div class="form-inline form-group has-info">

											<label class="smaller header lighter blue"
												style="margin-bottom: 10px"><i
												class="ace-icon fa fa-pencil-square-o"></i>Veuillez choisir
												le mode de livraison </label>
										</div>
										<div class="radio" style="margin-left: 20px">
											<label style="display: inline"> <input type="radio"
												name="form-vente-radio" id="form-rea-surplace"
												style="display: inline" /> SUR PLACE
											</label>
										</div>
										<div class="radio" style="margin-left: 20px">
											<label style="display: inline"> <input type="radio"
												name="form-vente-radio" id="form-rea-domicile"
												style="display: inline" /> A DOMICILE
											</label>

										</div>
										<div class="radio" style="margin-left: 20px">
											<div class="form-inline form-group has-info">
												<label style="display: none" id="label-adresseLivraison-rea">
													ADRESSE DE LIVRAISON: </label> <input type="text" name=""
													style="border-color: #8C316A; margin-left: 15px; display: none"
													id="form-rea-adresseLivraison" class="input-xxlarge" />
											</div>

											<div class="form-inline form-group has-info">
												<label style="display: none" id="label-frais-livraison-rea">
													FRAIS DE LIVRAISON: <input type="number" name=""
													id="text-montant-frais-livraison-rea"
													style="display: none; margin-left: 15px;" value="0" />
												</label>
											</div>

										</div>
									</div>
								</div>

							</div>





							<button type="button" class="previous" id="bt_prcdt3"
								style="background-color: grey; color: white; width: 150px; height: 30px;"
								onclick="return showreap('Page2','Page1','Page3','Page4','Page5');">
								&laquo; Page précédente</button>

							<button type="button" class="next" id="bt_svt3"
								style="background-color: green; color: white; width: 150px; height: 30px;"
								onclick="return showreap('Page4','Page1','Page2','Page3','Page5');">
								Page suivante &raquo;</button>


						</div>


						<div id="Page4" style="display: none">
							<div class="widget-box">
								<div class="widget-header">
									<h4>INFORMATIONS ADDITIVES</h4>
								</div>
								<div class="widget-body">
									<div class="widget-main">
										<label class="smaller header lighter blue"
											style="margin-bottom: 10px"><i
											class="ace-icon fa fa-pencil-square-o"></i>Informations
											spécifiques pour certains articles. Exemple: Numéro de carte
											de carburant </label>
										<div class="form-inline form-group has-info"
											style="margin-left: 20px">
											<label id="label-reference-additive-rea"> Référence
												additive: <input type="text" name=""
												id="text-reference-additive-rea" style="margin-left: 15px;" />
											</label>
										</div>
									</div>
								</div>

							</div>


							<button type="button" class="previous" id="bt_prcdt4"
								style="background-color: grey; color: white; width: 150px; height: 30px;"
								onclick="return showreap('Page3','Page2','Page1','Page4','Page5');">
								&laquo; Page précédente</button>

							<button type="button" class="next" id="bt_svt4"
								style="background-color: green; color: white; width: 150px; height: 30px;"
								onclick="return showreap('Page5','Page1','Page2','Page4','Page3')">
								Page suivante &raquo;</button>
						</div>

						<div id="Page5" style="display: none">
							<div class="widget-box">
								<div class="widget-header">
									<h4>CONFIRMATION ET VALIDATION</h4>
								</div>
								<div class="widget-body">
									<div class="widget-main">

										<div class="form-inline form-group has-info"
											style="margin-left: 20px">
											<button type="button" class="btn btn-danger"
												id="form-reappro-createBonConso">
												<i class="ace-icon fa fa-envelope bigger-100"></i>CONFIRMATION
											</button>
											<span id="load_createbon_reappro" style="display: none">Veuillez
												patienter SVP</span> <i id="load_createbon_reappro"
												class="ace-icon fa fa-spinner fa-spin orange bigger-125"
												style="position: absolute; font-size: 4em !important; margin-left: 14px; display: none"></i>

										</div>

										<div class="form-inline form-group has-info" id="qrcaptcha"
											style="display: none"></div>

										<div class="form-inline form-group has-info">
											<button type="button" id="form-reappro-terminerOperation"
												class="btn btn-info">
												<i class="ace-icon fa fa-shopping-cart bigger-160"></i>
												VALIDER L'OPERATION
											</button>
											<button type="button" id="form-reappro-annuler"
												class="btn btn-light">
												<i class="ace-icon fa fa-undo bigger-160"></i> ANNULER
											</button>
											<span id="load_validate_reappro" style="display: none">Veuillez
												patientez SVP</span> <i id="load_validate_icone_reappro"
												class="ace-icon fa fa-spinner fa-spin orange bigger-125"
												style="position: absolute; font-size: 4em !important; margin-left: 14px; display: none">
											</i>
										</div>
										<!-- data-dismiss="alert" -->
										<div id="esmc_notification2_reappro"></div>
										<div id="esmc_notification_final_reappro"
											class="alert alert-info" style="display: none">
											<button type="button" class="close"
												id="esmc_notification_final_reappro_close">
												<i class="ace-icon fa fa-times"></i>
											</button>
											Operation de vente bien effectuée
										</div>

									</div>
								</div>

							</div>


							<button type="button" class="previous" id="bt_prcdt5"
								style="background-color: grey; color: white; width: 150px; height: 30px;"
								onclick="return showreap('Page4','Page1','Page2','Page3','Page5');">
								&laquo; Page précédente</button>

						</div>


					</div>
				</div>
			</div>
		</div>
	</div>
</body>


</html>
